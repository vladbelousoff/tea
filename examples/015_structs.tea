// Type definitions and instantiation

// Simple type with basic fields
type Point {
    x: f32;
    y: f32;
}

// Type with mixed data types
type Person {
    name: string;
    age: i32;
    height: f32;
    is_student: i32;  // Using i32 for boolean (1 = true, 0 = false)
}

// Type with integer fields
type Rectangle {
    width: i32;
    height: i32;
}

// Empty type (no fields)
type Empty {
}

// Type with optional fields
type User {
    id: i32;
    username: string;
    email: string?;    // Optional email
    score: f32?;       // Optional score
}

// Creating type instances using 'new' keyword
let origin = new Point { x: 0.0, y: 0.0 };
let my_point = new Point { x: 3.5, y: 7.2 };

// Type instantiation with all field types
let person1 = new Person {
    name: 'Alice',
    age: 25,
    height: 170.5,
    is_student: 1
};

let person2 = new Person {
    name: 'Bob',
    age: 30,
    height: 180.0,
    is_student: 0
};

// Type instantiation with trailing comma (allowed)
let rect1 = new Rectangle {
    width: 10,
    height: 20,
};

// Type instantiation in single line
let rect2 = new Rectangle { width: 5, height: 8 };

// Empty type instantiation
let empty_instance = new Empty {};

// Type with optional fields
let user1 = new User {
    id: 1,
    username: 'alice123',
    email: 'alice@example.com',
    score: 95.5
};

let user2 = new User {
    id: 2,
    username: 'bob456',
    email: null,        // Optional field set to null
    score: null         // Optional field set to null
};

// Using type instances in expressions and assignments
let point_a = new Point { x: 1.0, y: 2.0 };
let point_b = new Point { x: 4.0, y: 6.0 };

// Type instantiation with computed values
let computed_x = 5.0 + 3.0;
let computed_y = 2.0 * 4.0;
let computed_point = new Point { x: computed_x, y: computed_y };

// Type instantiation in function calls (when we get to functions with type params)
fn create_default_person() -> Person {
    return new Person {
        name: 'Default',
        age: 0,
        height: 0.0,
        is_student: 0
    };
}

let default_person = create_default_person();

// Multiple instances of the same type
let top_left = new Point { x: 0.0, y: 10.0 };
let top_right = new Point { x: 10.0, y: 10.0 };
let bottom_left = new Point { x: 0.0, y: 0.0 };
let bottom_right = new Point { x: 10.0, y: 0.0 };